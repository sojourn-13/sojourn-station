<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <base href="../" />
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;datum&#x2F;move_loop - Space Station 13</title>
</head>
<body>
<header>
    <a href="index.html">Space Station 13</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="datum/move_loop.html#var">Var Details</a> - <a href="datum/move_loop.html#proc">Proc Details</a></header>
<main>
<h1>move_loop <aside>/<a href="datum.html">datum</a>/<a href="datum/move_loop.html">move_loop</a></aside>
        
    
            <a href="https://github.com/sojourn-13/sojourn-station/blob/3bd4a27ed3a4ccde95761d7fe0c0432350432839/code/controllers/subsystems/movement/movement_types.dm#L2">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystems&#x2F;movement&#x2F;movement_types.dm 2"/></a></h1>

<p>Template class of the movement datums, handles the timing portion of the loops</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr>
            <tr><th><a href="datum/move_loop.html#var/controller">controller</a></th><td>The subsystem we're processing on</td></tr>
            <tr><th><a href="datum/move_loop.html#var/delay">delay</a></th><td>Delay between each move in deci-seconds</td></tr>
            <tr><th><a href="datum/move_loop.html#var/extra_info">extra_info</a></th><td>An extra reference we pass around
It is on occasion useful to have a reference to some datum without storing it on the moving object
Mostly comes up in high performance senarios where we care about things being singletons
This feels horrible, but constantly making components seems worse</td></tr>
            <tr><th><a href="datum/move_loop.html#var/flags">flags</a></th><td>Bitfield of different things that affect how a loop operates</td></tr>
            <tr><th><a href="datum/move_loop.html#var/lifetime">lifetime</a></th><td>Time till we stop processing in deci-seconds, defaults to forever</td></tr>
            <tr><th><a href="datum/move_loop.html#var/moving">moving</a></th><td>The thing we're moving about</td></tr>
            <tr><th><a href="datum/move_loop.html#var/owner">owner</a></th><td>The movement packet that owns us</td></tr>
            <tr><th><a href="datum/move_loop.html#var/priority">priority</a></th><td>Defines how different move loops override each other. Higher numbers beat lower numbers</td></tr>
            <tr><th><a href="datum/move_loop.html#var/running">running</a></th><td>Is this loop running or not</td></tr>
            <tr><th><a href="datum/move_loop.html#var/starting_delay">starting_delay</a></th><td>Used to help keep track of mob delay</td></tr>
            <tr><th><a href="datum/move_loop.html#var/timer">timer</a></th><td>The next time we should process
Used primarially as a hint to be reasoned about by our [controller], and as the id of our bucket
Should not be modified directly outside of [start_loop]</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="datum/move_loop.html#proc/compare_loops">compare_loops</a></th><td>check if this exact moveloop datum already exists (in terms of vars) so we can avoid creating a new one to overwrite the old duplicate</td></tr>
            <tr><th><a href="datum/move_loop.html#proc/move">move</a></th><td>Handles the actual move, overriden by children
Returns FALSE if nothing happen, TRUE otherwise</td></tr>
            <tr><th><a href="datum/move_loop.html#proc/pause_for">pause_for</a></th><td>Pauses the move loop for some passed in period
This functionally means shifting its timer up, and clearing it from its current bucket</td></tr>
            <tr><th><a href="datum/move_loop.html#proc/set_delay">set_delay</a></th><td>Exists as a helper so outside code can modify delay in a sane way</td></tr></table>
    <h2 id="var">Var Details</h2><h3 id="var/controller"><aside class="declaration">var </aside>controller
            <aside>&ndash; /<a href="datum.html">datum</a>/<a href="datum/controller/subsystem.html">controller/subsystem</a>/<a href="datum/controller/subsystem/movement.html">movement</a></aside>
        
    
            <a href="https://github.com/sojourn-13/sojourn-station/blob/3bd4a27ed3a4ccde95761d7fe0c0432350432839/code/controllers/subsystems/movement/movement_types.dm#L6">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystems&#x2F;movement&#x2F;movement_types.dm 6"/></a></h3>
        <p>The subsystem we're processing on</p><h3 id="var/delay"><aside class="declaration">var </aside>delay
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/sojourn-13/sojourn-station/blob/3bd4a27ed3a4ccde95761d7fe0c0432350432839/code/controllers/subsystems/movement/movement_types.dm#L21">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystems&#x2F;movement&#x2F;movement_types.dm 21"/></a></h3>
        <p>Delay between each move in deci-seconds</p><h3 id="var/extra_info"><aside class="declaration">var </aside>extra_info
            <aside>&ndash; /<a href="datum.html">datum</a></aside>
        
    
            <a href="https://github.com/sojourn-13/sojourn-station/blob/3bd4a27ed3a4ccde95761d7fe0c0432350432839/code/controllers/subsystems/movement/movement_types.dm#L11">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystems&#x2F;movement&#x2F;movement_types.dm 11"/></a></h3>
        <p>An extra reference we pass around
It is on occasion useful to have a reference to some datum without storing it on the moving object
Mostly comes up in high performance senarios where we care about things being singletons
This feels horrible, but constantly making components seems worse</p><h3 id="var/flags"><aside class="declaration">var </aside>flags
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/sojourn-13/sojourn-station/blob/3bd4a27ed3a4ccde95761d7fe0c0432350432839/code/controllers/subsystems/movement/movement_types.dm#L17">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystems&#x2F;movement&#x2F;movement_types.dm 17"/></a></h3>
        <p>Bitfield of different things that affect how a loop operates</p><h3 id="var/lifetime"><aside class="declaration">var </aside>lifetime
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/sojourn-13/sojourn-station/blob/3bd4a27ed3a4ccde95761d7fe0c0432350432839/code/controllers/subsystems/movement/movement_types.dm#L19">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystems&#x2F;movement&#x2F;movement_types.dm 19"/></a></h3>
        <p>Time till we stop processing in deci-seconds, defaults to forever</p><h3 id="var/moving"><aside class="declaration">var </aside>moving
            <aside>&ndash; /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a></aside>
        
    
            <a href="https://github.com/sojourn-13/sojourn-station/blob/3bd4a27ed3a4ccde95761d7fe0c0432350432839/code/controllers/subsystems/movement/movement_types.dm#L13">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystems&#x2F;movement&#x2F;movement_types.dm 13"/></a></h3>
        <p>The thing we're moving about</p><h3 id="var/owner"><aside class="declaration">var </aside>owner
            <aside>&ndash; /<a href="datum.html">datum</a>/<a href="datum/movement_packet.html">movement_packet</a></aside>
        
    
            <a href="https://github.com/sojourn-13/sojourn-station/blob/3bd4a27ed3a4ccde95761d7fe0c0432350432839/code/controllers/subsystems/movement/movement_types.dm#L4">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystems&#x2F;movement&#x2F;movement_types.dm 4"/></a></h3>
        <p>The movement packet that owns us</p><h3 id="var/priority"><aside class="declaration">var </aside>priority
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/sojourn-13/sojourn-station/blob/3bd4a27ed3a4ccde95761d7fe0c0432350432839/code/controllers/subsystems/movement/movement_types.dm#L15">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystems&#x2F;movement&#x2F;movement_types.dm 15"/></a></h3>
        <p>Defines how different move loops override each other. Higher numbers beat lower numbers</p><h3 id="var/running"><aside class="declaration">var </aside>running
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/sojourn-13/sojourn-station/blob/3bd4a27ed3a4ccde95761d7fe0c0432350432839/code/controllers/subsystems/movement/movement_types.dm#L29">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystems&#x2F;movement&#x2F;movement_types.dm 29"/></a></h3>
        <p>Is this loop running or not</p><h3 id="var/starting_delay"><aside class="declaration">var </aside>starting_delay
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/sojourn-13/sojourn-station/blob/3bd4a27ed3a4ccde95761d7fe0c0432350432839/code/controllers/subsystems/movement/movement_types.dm#L23">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystems&#x2F;movement&#x2F;movement_types.dm 23"/></a></h3>
        <p>Used to help keep track of mob delay</p><h3 id="var/timer"><aside class="declaration">var </aside>timer
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/sojourn-13/sojourn-station/blob/3bd4a27ed3a4ccde95761d7fe0c0432350432839/code/controllers/subsystems/movement/movement_types.dm#L27">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystems&#x2F;movement&#x2F;movement_types.dm 27"/></a></h3>
        <p>The next time we should process
Used primarially as a hint to be reasoned about by our [controller], and as the id of our bucket
Should not be modified directly outside of [start_loop]</p><h2 id="proc">Proc Details</h2><h3 id="proc/compare_loops"><aside class="declaration">proc </aside>compare_loops<aside>(/<a href="datum.html">datum</a>/<a href="datum/move_loop.html">move_loop</a>/loop_type, priority, flags, extra_info, delay, timeout) 
        
    
            <a href="https://github.com/sojourn-13/sojourn-station/blob/3bd4a27ed3a4ccde95761d7fe0c0432350432839/code/controllers/subsystems/movement/movement_types.dm#L51">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystems&#x2F;movement&#x2F;movement_types.dm 51"/></a></aside>
        </h3>
        <p>check if this exact moveloop datum already exists (in terms of vars) so we can avoid creating a new one to overwrite the old duplicate</p><h3 id="proc/move"><aside class="declaration">proc </aside>move<aside>() 
        
    
            <a href="https://github.com/sojourn-13/sojourn-station/blob/3bd4a27ed3a4ccde95761d7fe0c0432350432839/code/controllers/subsystems/movement/movement_types.dm#L129">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystems&#x2F;movement&#x2F;movement_types.dm 129"/></a></aside>
        </h3>
        <p>Handles the actual move, overriden by children
Returns FALSE if nothing happen, TRUE otherwise</p><h3 id="proc/pause_for"><aside class="declaration">proc </aside>pause_for<aside>(time) 
        
    
            <a href="https://github.com/sojourn-13/sojourn-station/blob/3bd4a27ed3a4ccde95761d7fe0c0432350432839/code/controllers/subsystems/movement/movement_types.dm#L92">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystems&#x2F;movement&#x2F;movement_types.dm 92"/></a></aside>
        </h3>
        <p>Pauses the move loop for some passed in period
This functionally means shifting its timer up, and clearing it from its current bucket</p><h3 id="proc/set_delay"><aside class="declaration">proc </aside>set_delay<aside>(new_delay) 
        
    
            <a href="https://github.com/sojourn-13/sojourn-station/blob/3bd4a27ed3a4ccde95761d7fe0c0432350432839/code/controllers/subsystems/movement/movement_types.dm#L87">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystems&#x2F;movement&#x2F;movement_types.dm 87"/></a></aside>
        </h3>
        <p>Exists as a helper so outside code can modify delay in a sane way</p></main>
<footer>
    sojourn-station.dme
    <a href="https://github.com/sojourn-13/sojourn-station/tree/3bd4a27ed3a4ccde95761d7fe0c0432350432839">3bd4a27</a>
        (master) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/src/dmdoc/README.md">dmdoc 1.4.1</a></footer>
</body>
</html>
